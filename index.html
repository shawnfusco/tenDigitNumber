<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ten Digit Number</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #numberDisplay {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            white-space: pre-wrap; /* To preserve line breaks */
        }
        #message {
            font-size: smaller;
        }
        #explanation {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Ten Digit Number</h1>
    <button onclick="calculateAndDisplay()">Click me to brute force all 10 digit numbers!</button>
    <div id="message">
        <p>*This calculation takes nearly 15 seconds before the results are rendered!
    </div>
    <div id="explanation">
        <p>The following is a list of all 10 digit numbers where each n digits form a number divisible by n (for nâˆˆ{1,2,...,10})
    </div>
    <div id="results">
        <p>
    </div>
    <div id="output"></div>



    <script>
        // Generalized method to print with animation
        function printWithAnimation(text, delay = 100, callback) {
            requestAnimationFrame(function() {
                let outputDiv = document.getElementById('output');
                let p = document.createElement('p');
                p.textContent = text;
                outputDiv.appendChild(p);

                if (callback) {
                    setTimeout(callback, delay);
                }
            });
        }

        function calculateAndDisplay() {
            // Clear previous content
            document.getElementById('output').innerHTML = '';
        
            // result variable to number
            var result = 0;

            console.log("Ten digit number with unique digits where each digit is divisible by their place:");

            for (var i = 1000000000; i <= 9999999999; i += 10) {
                    //if (alert("\nCount: " + i + "\n\nRefresh the page to stop.\n\nClick ok to continue.")) {}
                    // Math.floor to remove decimals. divide by 1n to isolate leading digits
                    // i % 1n to isolate ending digits
                    
                    // we skip the first column because everything is divisible by 1
                    var firstTwo = Math.floor(i / 100000000);
                    
                    // we know the firth column has to be five
                    var firstFive = Math.floor(i / 100000);

                    // we know the tenth/last column has to be 0, so we can skip this and the check by incrementing the for loop by 10 each time
                    //var firstTen = Math.floor(i / 1);
                    // other columns have to be something, which we will implement later

                    if (firstFive % 10 == 5/* && firstTen % 10 == 0*/) {
                        if (firstTwo % 2 == 0) {
                            var firstThree = Math.floor(i / 10000000);
                            if (firstThree % 3 == 0) {
                                var firstFour = Math.floor(i / 1000000);
                                if (firstFour % 4 == 0) {
                                    if (firstFive % 5 == 0) {
                                        var firstSix = Math.floor(i / 10000);
                                        if(firstSix % 6 == 0) {
                                            var firstSeven = Math.floor(i / 1000);
                                            if (firstSeven % 7 == 0) {
                                                var firstEight = Math.floor(i / 100);
                                                if (firstEight % 8 == 0) {
                                                    var firstNine = Math.floor(i / 10);
                                                    if (firstNine % 9 == 0) {
                                                        if (hasUniqueDigits(i)) {
                                                            console.log(i);
                                                            result = i;
                                                            printWithAnimation(i + " has ten unique digits where each is divisible by its column!", 100);

                                                        } else {
                                                            console.log(i + " does not have ten unique digits; fail.");
                                                            printWithAnimation(i + " does not have ten unique digits; fail.", 100);
                                                        }
                                                    } // firstNine
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        } // firstTwo
                    } // firstFive
                } // for loop
            
            // good example of a breakpoint message
            //if (alert("First five numbers: " + firstFive + "\nCount: " + i + "\n\nRefresh the page to stop.\n\nClick ok to continue.")) {}


            function hasUniqueDigits(number) {
                // Convert the number to a string
                let numberString = number.toString();
                
                // Create a Set from the string's characters
                let digitsSet = new Set(numberString);
                
                // Compare the size of the Set with the length of the string
                return digitsSet.size === numberString.length;
            }

            console.log("Complete!");
            console.log(result + " has ten unique digits where each is divisible by its column!");
            printWithAnimation(result + " has ten unique digits where each is divisible by its column!", 100);

        } // calculateAndDisplay()
    </script>

</body>
</html>
